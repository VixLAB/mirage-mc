"use strict";(self.webpackChunkmirage_mc=self.webpackChunkmirage_mc||[]).push([[45],{11625:function(e,t,n){var i=n(45987),r=n(1413),a=n(72791),s=n(93539),o=n(13967),l=n(55931),c=n(65661),d=n(90977),u=n(95193),h=n(5574),x=n(4899),m=n(31701),f=n(77386),g=n(5849),p=n(29823),j=n(80184),v=["children","onClose"],Z=["isProcessing","isOpen","id","message","title","action","haveButton","handleAction","handleClose"],b=a.forwardRef((function(e,t){return(0,j.jsx)(l.Z,(0,r.Z)((0,r.Z)({direction:"up"},e),{},{ref:t}))}));function y(e){var t=e.children,n=e.onClose,a=(0,i.Z)(e,v);return(0,j.jsxs)(c.Z,(0,r.Z)((0,r.Z)({sx:{m:0,p:2}},a),{},{children:[t,n?(0,j.jsx)(d.Z,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:(0,j.jsx)(p.Z,{})}):null]}))}t.Z=function(e){var t=e.isProcessing,n=void 0!==t&&t,a=e.isOpen,l=void 0!==a&&a,c=(e.id,e.message),d=void 0===c?"":c,p=e.title,v=void 0===p?"":p,_=e.action,k=void 0===_?"":_,w=e.haveButton,S=void 0!==w&&w,C=e.handleAction,z=void 0===C?function(){}:C,L=e.handleClose,D=void 0===L?function(){}:L,R=(0,i.Z)(e,Z),I=(0,s.Z)(),M=(0,o.Z)(),T=(0,u.Z)(M.breakpoints.down("sm"));return(0,j.jsxs)(h.Z,(0,r.Z)((0,r.Z)({fullScreen:T,open:l,onClose:D,TransitionComponent:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},R),{},{children:[(0,j.jsx)(y,{id:"alert-dialog-title",onClose:D,children:v}),(0,j.jsx)(x.Z,{children:(0,j.jsx)(m.Z,{id:"alert-dialog-description",children:d})}),S&&(0,j.jsxs)(f.Z,{children:[(0,j.jsx)(g.Z,{onClick:D,color:"primary",children:I.formatMessage({id:"cancel",defaultMessage:"Cancel"})}),(0,j.jsx)(g.Z,{disabled:n,onClick:function(){z(D)},color:"secondary",children:k})]})]}))}},16602:function(e,t,n){n.r(t),n.d(t,{default:function(){return ut}});var i=n(1413),r=n(29439),a=n(72791),s=n(93539),o=n(95321),l=(n(74350),n(13967)),c=n(42404),d=n(24003),u=n(25256),h=n(29464),x=n(90977),m=n(4567),f=n(40986),g=n(99631),p=n(80184);function j(e){var t=e.children,n=e.pageTitle,r=e.appBarLeftContent,a=void 0===r?null:r,j=e.onBackClick,v=e.isLoading,Z=e.appBarContent,b=void 0===Z?null:Z,y=e.contentStyle,_=e.tabs,k=void 0===_?null:_,w=(0,o.useTheme)().isRTL,S=(0,d.useOnline)(),C=(0,l.Z)(),z=((0,c.useConfig)().appConfig||{}).menu||{},L=(z.width,z.appBarLeadingContent),D=void 0===L?null:L,R=(0,s.Z)(),I="";return("string"===typeof n||n instanceof String)&&(I=n),(0,p.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",height:"100vh",overflow:"hidden"},children:[(0,p.jsx)(u.Z,{position:"absolute",sx:{width:void 0,zIndex:C.zIndex.drawer,transition:C.transitions.create(["width","margin"],{easing:C.transitions.easing.sharp,duration:C.transitions.duration.leavingScreen}),maxHeight:64,marginLeft:w?0:-12,marginRight:w?30:0,backgroundColor:"transparent",backgroundImage:"none",boxShadow:"none"},children:(0,p.jsxs)(h.Z,{sx:{backgroundColor:function(e){return"dark"===e.palette.mode?e.palette.background.default:e.palette.primary.dark},margin:0,padding:0},children:[j&&(0,p.jsx)(x.Z,{color:"inherit","aria-label":"open drawer",onClick:j,children:(0,p.jsx)(g.Z,{})}),D,a,(0,p.jsx)(m.Z,{variant:"h6",color:"inherit",noWrap:!0,children:I}),(0,p.jsx)("div",{style:{flex:"1 1 auto"}}),b]})}),(0,p.jsx)("div",{style:{alignItems:"center",justifyContent:"flex-end",minHeight:64}}),v&&(0,p.jsx)(f.Z,{}),!S&&(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",height:15,backgroundColor:C.palette.secondary.main},children:(0,p.jsx)(m.Z,{variant:"caption",color:"textSecondary",noWrap:!0,children:R.formatMessage({id:"offline",defaultMessage:"Offline"})})}),k,(0,p.jsx)("div",{style:(0,i.Z)({flex:1,overflow:"auto"},y),children:t})]})}var v=n(69173),Z=n(18060),b=n(64554),y=n(48563),_=n(56525),k=n(74165),w=n(15861),S=n(85701),C=(n(28920),n(97639)),z=n(69265),L=n(25535),D=n(76730),R=n(53329),I=n(85172),M=n(5849),T=n(52744),F=n(82626);function P(e){var t=e.onDownloadSearchList,n=void 0===t?function(){}:t,i=e.onDownloadSelectedList,s=void 0===i?function(){}:i,o=a.useState(null),l=(0,r.Z)(o,2),c=l[0],d=l[1],u=Boolean(c),h=function(){d(null)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.Z,{color:"primary",target:"_blank",size:"small",startIcon:(0,p.jsx)(R.Z,{}),variant:"contained",onClick:function(e){d(e.currentTarget)},endIcon:(0,p.jsx)(I.Z,{}),children:"Download"}),(0,p.jsxs)(T.Z,{anchorEl:c,open:u,onClose:h,children:[(0,p.jsx)(F.Z,{onClick:function(){n(),h()},children:"Data from Search list"}),(0,p.jsx)(F.Z,{onClick:function(){s(),h()},children:"Data from Selected list"}),(0,p.jsx)(F.Z,{disabled:!0,onClick:h,href:"https://texastechuniversity-my.sharepoint.com/:x:/g/personal/ngan_v_t_nguyen_ttu_edu/EWEu7l96MQ1Jgu8OBKspIR0BjmY1i0t6XlV6ROPCYcPkkA?download=1",children:"MIRAGE-MetaCorpus Song List"}),(0,p.jsx)(F.Z,{onClick:h,disabled:!0,children:"MIRAGE-MetaCorpus Station List"})]})]})}var E=n(36314),B=n(93006),O=n(11625);function W(e){var t=e.getUrl,n=(0,a.useState)(!1),i=(0,r.Z)(n,2),s=i[0],o=i[1],l=(0,a.useState)(""),c=(0,r.Z)(l,2),d=c[0],u=c[1],h=(0,a.useState)(!1),x=(0,r.Z)(h,2),m=x[0],f=x[1];return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(M.Z,{variant:"contained",onClick:function(){f(!0),t().then((function(e){u(e),o(!0),f(!1)})).catch((function(e){u(""),f(!1)}))},children:"Share"}),(0,p.jsx)(O.Z,{isOpen:s,handleClose:function(){o(!1)},isProcessing:m,title:"Share URL",maxWidth:"md",message:(0,p.jsxs)(E.Z,{direction:"collumn",children:[(0,p.jsx)(B.Z,{size:"small",label:"",variant:"outlined",InputProps:{readOnly:!0},value:d}),(0,p.jsx)(M.Z,{variant:"contained",size:"small",onClick:function(){navigator.clipboard.writeText(d)},children:"Copy"})]})})]})}var A=n(4235),U=n.n(A),q=function(e){var t=e.id,n=void 0===t?"tableevent":t,i=e.columns,s=e.data,o=e.totalData,l=e.selectedData,c=e.disableAdding,d=e.isLoadingData,u=e.onSelectRow,m=e.highlightId,f=e.onSendToList,g=e.onRemoveFromList,j=e.mainurl,Z=(0,a.useState)({}),y=(0,r.Z)(Z,2),_=y[0],R=y[1],I=(0,a.useRef)(null),M=(0,a.useState)(!1),T=(0,r.Z)(M,2),F=T[0],E=T[1],B=(0,a.useState)([]),O=(0,r.Z)(B,2),A=O[0],q=O[1],G=(0,v.Wz)(),Y=G.getDownloadData,H=G.getShortenLink;G.getDatafromShortenLink;(0,a.useEffect)((function(){try{var e,t;null===(e=I.current)||void 0===e||null===(t=e.scrollToIndex)||void 0===t||t.call(e,0)}catch(n){console.log(n)}}),[A]),(0,a.useEffect)((function(){R({})}),[s]);var V=function(e){E(!0),Y(e).then((function(e){var t={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,filename:"mirage-mc-".concat((new Date).toDateString()),useBom:!0,useKeysAsHeaders:!0};new D.ExportToCsv(t).generateCsv(e),E(!1)})).catch((function(e){E(!1)}))},N=(0,a.useCallback)((0,w.Z)((0,k.Z)().mark((function e(){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=U().compressToEncodedURIComponent(JSON.stringify(s.map((function(e){return e._id})))),e.abrupt("return",H(t));case 2:case"end":return e.stop()}}),e)}))),[s,j]);return(0,p.jsx)(S.P2,{id:n,columns:i,data:s,enableGlobalFilterModes:!0,enableDensityToggle:!1,enablePagination:!1,enableRowSelection:!0,enableRowVirtualization:!0,muiTablePaperProps:{sx:{display:"flex",flexDirection:"column",minHeight:1,height:"100%"}},initialState:{density:"compact"},onSortingChange:q,onRowSelectionChange:R,state:{isLoading:d||F,sorting:A,rowSelection:_},rowVirtualizerInstanceRef:I,rowVirtualizerProps:{overscan:2},muiTableBodyRowProps:function(e){var t=e.row;return{onClick:function(){u(t.original)},sx:{cursor:"pointer",opacity:m?m._id===t.original._id?1:.7:1}}},muiSelectCheckboxProps:{size:"small"},muiTableBodyCellProps:{sx:{wordBreak:"break-word",whiteSpace:"normal"}},enableColumnResizing:!0,enableFullScreenToggle:!1,defaultColumn:{minSize:20,maxSize:9001,size:120},layoutMode:"grid",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:function(e){e.table;return(0,p.jsxs)(b.Z,{sx:{display:"flex",gap:"1rem",p:"0.5rem",flexWrap:"no-wrap"},children:[(0,p.jsx)(P,{onDownloadSearchList:function(){return V(o)},onDownloadSelectedList:function(){return V(l)}}),(0,p.jsx)(W,{getUrl:N})]})},renderBottomToolbar:function(e){var t=e.table,n=f?function(){f(t.getSelectedRowModel().flatRows.map((function(e){return e.original})))}:function(){},i=g?function(){g(t.getSelectedRowModel().flatRows.map((function(e){return e.original})))}:function(){};return(0,p.jsxs)(h.Z,{sx:{display:Object.keys(_).length?"flex":"none"},children:[(0,p.jsx)(b.Z,{sx:{flexGrow:2},children:(0,p.jsx)(S.Bm,{stackAlertBanner:!0,table:t})}),f&&!c&&(0,p.jsx)(C.Z,{title:"Add to Selected list",children:(0,p.jsx)(x.Z,{onClick:n,variant:"contained",children:(0,p.jsx)(z.Z,{})})}),g&&(0,p.jsx)(C.Z,{title:"Remove from Selected list",children:(0,p.jsx)(x.Z,{onClick:i,variant:"contained",children:(0,p.jsx)(L.Z,{})})})]})}},n)},G=(n(73457),n(69824)),Y=n(78687),H=n(43416),V=n(70492),N=function(e){var t=e.canUndo,n=e.canRedo,i=e.onUndo,r=e.onRedo;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{onClick:i,disabled:!t,children:(0,p.jsx)(H.Z,{})}),(0,p.jsx)(x.Z,{onClick:r,disabled:!n,children:(0,p.jsx)(V.Z,{})})]})},J={onUndo:G.zF.undo,onRedo:G.zF.redo},K=N=(0,Y.$j)((function(e){return{canUndo:e.streamFilters.past.length>0,canRedo:e.streamFilters.future.length>0}}),J)(N),X=n(49079),Q=(n(26719),n(88240),n(97718)),$=n(24308),ee=n(45987),te=n(85771),ne=n(65469),ie=n(81153),re=n(60220),ae=n(94721),se=n(72426),oe=n.n(se),le=n(14642),ce=n(81131),de=n(152),ue=n(67362),he=(n(81406),n(66934)),xe=n(15392),me=n(4841),fe=(0,he.ZP)(me.Z)((function(e){var t=e.theme;return{padding:t.spacing(1),borderRadius:10,transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),ge=fe,pe=n(68286);function je(e){var t=e.inputData,n=e.axisInfo,i=e.height,s=e.width,o=(e.highlight,(0,l.Z)()),c=(0,a.useState)([]),d=(0,r.Z)(c,2),u=d[0],h=d[1];(0,a.useEffect)((function(){if(n.length&&t.length){var e=t.map((function(e){var t={type:"scatterpolar",r:[],theta:[],fill:"toself"};return n.forEach((function(n,i){var r;t.r[i]=null!==(r=e[n.key])&&void 0!==r?r:void 0,t.theta[i]=n.label})),t.r.push(t.r[0]),t.theta.push(t.theta[0]),t}));h(e)}else h([])}),[t,n]);var x=(0,a.useMemo)((function(){return{paper_bgcolor:"rgba(255,255,255,0)",plot_bgcolor:"rgba(255,255,255,0)",autoscale:!1,height:i,width:s,margin:{t:40,r:20,l:20,b:40},font:{family:o.typography.fontFamily,size:o.typography.fontSize,color:o.palette.text.primary},polar:{radialaxis:{visible:!0,range:[0,1]}},showlegend:!1}}),[i,s,o]);return(0,p.jsx)(pe.Z,{data:u,layout:x,config:{displaylogo:!1,toImageButtonOptions:{format:"svg",filename:"Station_Map",height:1080,width:1920,scale:1},showEditInChartStudio:!0,plotlyServerURL:"https://chart-studio.plotly.com"}})}var ve=n(93433),Ze=(0,xe.BYU)().range([5,20]),be=(0,xe.BYU)().domain([7e-4,.0014,.003,.006,.012,.024,.048,.096,.192,.3712,.768,1.536,3.072,6.144,11.8784,23.7568,47.5136,98.304,190.0544,360]).range((0,xe.w6H)(0,20).map((function(e){return 20-e})));function ye(e){var t=e.locs,n=e.height,i=e.width,s=e.highlight,o=(0,l.Z)(),c=(0,a.useState)([]),d=(0,r.Z)(c,2),u=d[0],h=d[1],x=(0,a.useState)({center:{lon:0,lat:0},zoom:1}),m=(0,r.Z)(x,2),f=m[0],g=m[1];(0,a.useEffect)((function(){try{if(t.length){var e=o.palette.primary.main;Ze.domain((0,xe.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.count})));var n=[],i=[],r=[],a=[];t.forEach((function(e){n.push(e.long),i.push(e.lat),r.push(Ze(null===e||void 0===e?void 0:e.count)),a.push("".concat(e.title," (").concat(null===e||void 0===e?void 0:e.count,")"))}));var l=Ze.ticks(2),c=l.map((function(e){return Ze(e)})),d=l.map((function(t,n){return{mapbox:"mapboxTick",type:"scattermapbox",name:"".concat(t),lon:[0],lat:[0],x:[0],y:[0],marker:{color:e,size:c[n]},visible:"legendonly"}})),u=[{type:"scattermapbox",lon:n,lat:i,hoverinfo:"text",text:a,showlegend:!1,marker:{size:r,color:e,line:{color:"black"}},name:"stream"}].concat((0,ve.Z)(d)),x=(0,xe.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.long})),m=(0,xe.Wem)(t,(function(e){return null===e||void 0===e?void 0:e.lat})),f={lon:(x[1]+x[0])/2,lat:(m[1]+m[0])/2},p=Math.min(10,Math.min(be(1.2*(x[1]-x[0])*2),be(1.2*(m[1]-m[0])))/1.5);if(g({zoom:p,center:f}),s){var j=t.find((function(e){return e.city_id===s.city_id}));j&&u.push({type:"scattermapbox",lon:[j.long],lat:[j.lat],hoverinfo:"text",text:["".concat(j.title," (").concat(null===j||void 0===j?void 0:j.count,")")],showlegend:!0,marker:{size:[Ze(j.count)],color:"red",line:{color:"black"}},name:j.title})}h(u)}else h([])}catch(v){}}),[t,s]);var j=(0,a.useMemo)((function(){return{paper_bgcolor:o.palette.background.paper,plot_bgcolor:"rgba(0,0,0,0)",autoscale:!1,height:n,width:i,margin:{t:10,r:10,l:10,b:10},mapboxTick:{style:"whitebg"},mapbox:{style:"carto-positron",center:f.center,zoom:f.zoom},font:{family:o.typography.fontFamily,size:o.typography.fontSize,color:o.palette.text.primary},legend:{title:{text:"#Streams"},showticksuffix:"last",x:1,xanchor:"right",y:0,orientation:"h"}}}),[n,i,o,f]);return(0,p.jsx)(pe.Z,{data:u,layout:j,config:{displaylogo:!1,toImageButtonOptions:{format:"svg",filename:"Station_Map",height:1080,width:1920,scale:1},showEditInChartStudio:!0,plotlyServerURL:"https://chart-studio.plotly.com","#Station":!1}})}var _e=n(17237);var ke=n.p+"static/media/Spotify_icon.5017cf1664eff772b580a4defe313c47.svg",we=n.p+"static/media/wikilogo.ae545fe2094e22d9cdc7.png",Se=n.p+"static/media/musicbrainlogo.402d8999255e14d8d9ca.png",Ce=n.p+"static/media/youtubelogo.fce25457bdf63203f906.png",ze=n.p+"static/media/geniuslogo.034da36224cfda3a1a6e.png",Le=["expand"];(0,he.ZP)((function(e){e.expand;var t=(0,ee.Z)(e,Le);return(0,p.jsx)(ce.Z,(0,i.Z)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));function De(e){switch(e){case"male":return{avatar:(0,p.jsx)(ue.Z,{style:{marginRight:-12}}),label:""};case"female":return{avatar:(0,p.jsx)(de.Z,{style:{marginRight:-12}}),label:""};default:return{label:e}}}var Re=function(e){var t,n,r=e.data,s=e.onSelect,o=oe()(r.time_station).format("LLL"),l=oe().utc(1e3*r.track_duration).format("HH:mm:ss"),c=null!==(t=r.stream_title)&&void 0!==t?t:"N/A",d=(0,a.useMemo)((function(){return[r]}),[r]),u=(0,a.useMemo)((function(){return[{key:"track_danceability",label:"Danceability"},{key:"track_speechiness",label:"Speechiness"},{key:"track_acousticness",label:"Acousticness"},{key:"track_instrumentalness",label:"Instrumentalness"},{key:"track_liveness",label:"Liveness"},{key:"track_energy",label:"Energy"},{key:"track_valence",label:"Valence"}]}),[]);return(0,p.jsxs)(E.Z,{spacing:1,children:[(0,p.jsxs)(ge,{children:[(0,p.jsx)(m.Z,{component:"div",variant:"h2",onClick:function(){return s({station:[r.station]},r)},children:r.station}),(0,p.jsxs)("table",{style:{width:"100%"},children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{style:{width:130}}),(0,p.jsx)("col",{})]}),(0,p.jsxs)("tbody",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Form"}),(0,p.jsx)("td",{children:(0,p.jsxs)(E.Z,{direction:"row",spacing:1,flexWrap:!0,sx:{width:"100%",flexWrap:"wrap"},children:[(0,p.jsx)(te.Z,{label:r.station_form,size:"small"}),r.station_frequency&&(0,p.jsx)(p.Fragment,{children:r.station_frequency.map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))})," "]})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Station URL"}),(0,p.jsx)("td",{children:(0,p.jsx)(ne.Z,{href:r.station_url,target:"_blank",color:"secondary",children:r.station_url})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Location"}),(0,p.jsx)("td",{children:(0,p.jsxs)(ne.Z,{target:"_blank",color:"secondary",href:"https://maps.google.com/?q=".concat(r.lat,",").concat(r.long),children:[(0,p.jsx)(le.Z,{}),r.city,", ",r.country]})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Radio Garden URL"}),(0,p.jsx)("td",{children:(0,p.jsx)(ne.Z,{href:r.url,target:"_blank",color:"secondary",children:r.url})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Formats"}),(0,p.jsx)("td",{children:r.station_format&&(0,p.jsx)(E.Z,{direction:"row",spacing:1,flexWrap:!0,sx:{width:"100%",flexWrap:"wrap"},children:r.station_format.split(",").map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Genres"}),(0,p.jsx)("td",{children:r.station_genre&&(0,p.jsx)(E.Z,{direction:"row",spacing:1,flexWrap:!0,sx:{width:"100%",flexWrap:"wrap"},children:r.station_genre.map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Description"}),(0,p.jsx)("td",{children:r.station_description})]})]})]})]}),(0,p.jsx)(ge,{children:(0,p.jsxs)("table",{style:{width:"100%"},children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{style:{width:130}}),(0,p.jsx)("col",{})]}),(0,p.jsx)("tbody",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Stream name"}),(0,p.jsx)("td",{children:c})]})})]})}),r.artist_info&&(0,p.jsx)(ge,{children:(0,p.jsxs)(ie.ZP,{container:!0,spacing:1,children:[(0,p.jsxs)(ie.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(b.Z,{sx:{flex:"1 0 auto",display:"flex"},children:[(0,p.jsx)(re.Z,{"aria-label":"recipe",src:r.artist_info.artist_image_url,sx:{mr:1},children:r.artist_info.artist_name[0]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(m.Z,{variant:"h4",color:"text.primary",children:r.artist_info.artist_name}),(0,p.jsx)(m.Z,{variant:"subtitle2",children:r.artist_info.artist_type})]})]}),(0,p.jsx)(m.Z,{component:"div",variant:"subtitle1",color:"text.secondary",children:r.artist_info.artist_description})]}),(0,p.jsx)(ie.ZP,{item:!0,xs:12,children:(0,p.jsxs)("table",{style:{width:"100%"},children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{style:{width:130}}),(0,p.jsx)("col",{})]}),(0,p.jsxs)("tbody",{children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Popularity"}),(0,p.jsxs)("td",{children:[(0,p.jsx)(te.Z,{icon:(0,p.jsx)(_e.Z,{}),sx:{marginRight:1},label:r.artist_info.artist_popularity,size:"small"}),"(",(0,xe.WUZ)(",")(r.artist_info.artist_followers)," followers)"]})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"From"}),(0,p.jsx)("td",{children:null!==(n=r.artist_info.artist_country)&&void 0!==n?n:"N/A"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Genres"}),(0,p.jsx)("td",{children:r.artist_info.artist_genres&&r.artist_info.artist_genres.map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Instruments"}),(0,p.jsx)("td",{children:r.artist_info.artist_instruments.map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))})]}),r.artist_info.artist_members&&r.artist_info.artist_members.length?(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Members"}),(0,p.jsx)("td",{children:r.artist_info.artist_members.map((function(e){var t=e._id,n=e.artist_name,r=e.artist_image_url,a=e.artist_genders,s=e.artist_sexualorientations,o=e.artist_ethnicities,l=e.artist_voicetypes;return(0,p.jsx)(te.Z,{avatar:(0,p.jsx)(re.Z,{alt:n,src:r}),label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("strong",{children:n}),a&&(0,p.jsx)(te.Z,(0,i.Z)({title:"Gender: ".concat(a),color:"error",size:"small"},De(a))),s&&(0,p.jsx)(te.Z,(0,i.Z)({title:"Sexual Orientations: ".concat(s),size:"small"},De(s))),o&&(0,p.jsx)(te.Z,(0,i.Z)({title:"Ethnicities: ".concat(o),size:"small"},De(o))),l&&l.length?(0,p.jsx)(te.Z,{title:"Voice types",label:l.join(", "),size:"small"}):""]}),variant:"outlined"},t)}))})]}):"",(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Website URL"}),(0,p.jsx)("td",{children:(0,p.jsx)(ne.Z,{href:r.artist_info.artist_website,target:"_blank",color:"secondary",children:r.artist_info.artist_website})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Identifiers"}),(0,p.jsxs)("td",{children:[(0,p.jsx)(x.Z,{href:"https://open.spotify.com/artist/".concat(r.artist_info.artist_id),target:"_blank",children:(0,p.jsx)("img",{src:ke,width:30,loading:"lazy"})}),r.artist_info.artist_qid&&(0,p.jsx)(x.Z,{href:"https://wikidata.org/wiki/".concat(r.artist_info.artist_qid),target:"_blank",children:(0,p.jsx)("img",{src:we,width:30,loading:"lazy"})}),r.artist_info.artist_YouTubeID&&(0,p.jsx)(x.Z,{href:"https://www.youtube.com/channel/".concat(r.artist_info.artist_YouTubeID),target:"_blank",children:(0,p.jsx)("img",{src:Ce,width:30,loading:"lazy"})}),r.artist_info.artist_MusicBrainzID&&(0,p.jsx)(x.Z,{href:"https://musicbrainz.org/artist/".concat(r.artist_info.artist_MusicBrainzID),target:"_blank",children:(0,p.jsx)("img",{src:Se,width:30,loading:"lazy"})})]})]})]})]})})]})}),(0,p.jsx)(ge,{elevation:3,children:(0,p.jsxs)(ie.ZP,{container:!0,spacing:1,children:[(0,p.jsx)(ie.ZP,{item:!0,xs:12,children:(0,p.jsxs)(m.Z,{color:"text.secondary",gutterBottom:!0,children:[" ",o]})}),(0,p.jsxs)(ie.ZP,{item:!0,xs:12,children:[(0,p.jsx)(m.Z,{variant:"h4",component:"div",onClick:r.track_name?function(){return s({track_name:[r.track_name]})}:null,children:r.track_name}),(0,p.jsx)(m.Z,{component:"div",variant:"subtitle1",color:"text.secondary",children:r.track_description}),(0,p.jsxs)("table",{style:{width:"100%"},children:[(0,p.jsxs)("colgroup",{children:[(0,p.jsx)("col",{style:{width:130}}),(0,p.jsx)("col",{})]}),(0,p.jsxs)("tbody",{children:[r.track_form&&(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Form"}),(0,p.jsx)("td",{children:r.track_form})]}),r.track_composers&&r.track_composers.length?(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Composers"}),(0,p.jsx)("td",{children:r.track_composers.map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))})]}):"",r.track_lyricists&&r.track_lyricists.length?(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Lyricists"}),(0,p.jsx)("td",{children:r.track_lyricists.map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))})]}):"",r.track_language&&(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Language"}),(0,p.jsx)("td",{children:r.track_language})]}),r.track_year_released&&(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Year released"}),(0,p.jsx)("td",{children:r.track_year_released})]}),r.track_duration&&(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Duration"}),(0,p.jsx)("td",{children:l})]}),r.track_popularity&&(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Popularity"}),(0,p.jsx)("td",{children:(0,p.jsx)(te.Z,{icon:(0,p.jsx)(_e.Z,{}),label:r.track_popularity,size:"small"})})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Key "}),(0,p.jsxs)("td",{children:[r.track_key,", ",r.track_mode]})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Beats per Measure"}),(0,p.jsx)("td",{children:r.track_beatsperbar})]}),r.track_genre&&(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Genre"}),(0,p.jsx)("td",{children:r.track_genre})]}),r.track_loudness&&(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Loudness"}),(0,p.jsxs)("td",{children:[r.track_loudness," dB"]})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Platform"}),(0,p.jsxs)("td",{children:[r.track_id&&(0,p.jsx)(x.Z,{href:"https://open.spotify.com/track/".concat(r.track_id),target:"_blank",children:(0,p.jsx)("img",{src:ke,width:30,loading:"lazy"})}),r.track_qid&&(0,p.jsx)(x.Z,{href:"https://wikidata.org/wiki/".concat(r.track_qid),target:"_blank",children:(0,p.jsx)("img",{src:we,width:30,loading:"lazy"})}),r.track_geniusID&&(0,p.jsx)(x.Z,{href:"https://genius.com/".concat(r.track_geniusID),target:"_blank",children:(0,p.jsx)("img",{src:ze,width:30,loading:"lazy"})}),r.track_YouTubeID&&(0,p.jsx)(x.Z,{href:"https://www.youtube.com/watch?v=".concat(r.track_YouTubeID),target:"_blank",children:(0,p.jsx)("img",{src:Ce,width:30,loading:"lazy"})}),r.track_MusicBrainzID&&(0,p.jsx)(x.Z,{href:"https://musicbrainz.org/work/".concat(r.track_MusicBrainzID),target:"_blank",children:(0,p.jsx)("img",{src:Se,width:30,loading:"lazy"})})]})]})]})]})]}),(0,p.jsx)(ie.ZP,{item:!0,xs:12,children:r.track_instrumentation&&r.track_instrumentation.length?(0,p.jsxs)(E.Z,{direction:"row",spacing:1,flexWrap:!0,sx:{width:"100%",flexWrap:"wrap"},children:[(0,p.jsx)(m.Z,{children:"Instruments: "}),r.track_instrumentation.map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))]}):""}),(0,p.jsxs)(ie.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(ie.ZP,{container:!0,children:[(0,p.jsx)(ae.Z,{sx:{mt:2,mb:2,flexGrow:1}}),(0,p.jsx)(m.Z,{variant:"h5",component:"div",sx:{margin:"auto"},children:"Metrics"}),(0,p.jsx)(ae.Z,{sx:{mt:2,mb:2,flexGrow:1}})]}),(0,p.jsx)(_.Z,{style:{height:300,width:"100%"},children:function(e){var t=e.height,n=e.width;return(0,p.jsx)(je,{inputData:d,axisInfo:u,height:t-40,width:n})}})]})]})})]})};function Ie(e){var t=e.currentDetail,n=e.onSelect;e.sx;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)($.Z,{container:!0,style:{height:"100%",width:"100%",padding:10,overflow:"auto"},m:0,flexDirection:"column",flexWrap:"nowrap",sx:{bgcolor:function(e){return e.palette.background.paper},color:function(e){return e.palette.primary.contrastText}},children:t?(0,p.jsx)(Re,{data:t,onSelect:n}):(0,p.jsx)(p.Fragment,{children:"Select from Event List"})})})}var Me=n(57689);var Te=n(94258);function Fe(e){var t=e.currentDetail,n=e.locs,i=e.events,s=(0,a.useState)([]),o=(0,r.Z)(s,2),l=o[0],c=o[1];return(0,a.useEffect)((function(){try{var e={};n.forEach((function(t){return e[t.city_id]=t}));var t=(0,xe.Xxj)(i,(function(e){return e.city_id})).map((function(t){var n,i,a,s=(0,r.Z)(t,2),o=s[0],l=s[1];return{title:null===(n=e[o])||void 0===n?void 0:n.title,city_id:o,count:l.length,lat:null===(i=e[o])||void 0===i?void 0:i.lat,long:null===(a=e[o])||void 0===a?void 0:a.long}}));c(t)}catch(a){}}),[n,i]),(0,p.jsx)(_.Z,{style:{height:"100%",width:"100%"},children:function(e){var n=e.height,i=e.width;return(0,p.jsx)(ye,{height:n,width:i,locs:l,highlight:t})}})}var Pe=n(4942),Ee=n(12065),Be=n(5403),Oe=n(60868);function We(){var e=(0,a.useState)(),t=(0,r.Z)(e,2),n=t[0],i=t[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(M.Z,{size:"small",sx:function(e){return(0,Pe.Z)({position:"relative",borderRadius:e.shape.borderRadius,borderColor:(0,Ee.Fq)(e.palette.common.white,.5),borderStyle:"solid",backgroundColor:(0,Ee.Fq)(e.palette.common.white,.15),textTransform:"none","&:hover":{backgroundColor:(0,Ee.Fq)(e.palette.common.white,.25)},width:"100%",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),minWidth:250,width:"auto"})},startIcon:(0,p.jsx)(Be.Z,{}),variant:"contained",onClick:function(){return i(!0)},children:(0,p.jsx)(m.Z,{variant:"subtitle1",children:"Search..."})}),(0,p.jsx)(O.Z,{isOpen:n,id:"searchFilter",title:"Search",message:(0,p.jsx)(Oe.Z,{}),handleClose:function(){return i(!1)},fullWidth:!0,maxWidth:"sm",scroll:"paper"})]})}var Ae=["expand"];(0,he.ZP)((function(e){e.expand;var t=(0,ee.Z)(e,Ae);return(0,p.jsx)(ce.Z,(0,i.Z)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));var Ue=function(e){var t,n=e.data,i=e.onSelect;return(0,p.jsxs)(E.Z,{spacing:1,children:[(0,p.jsx)(ge,{children:(0,p.jsxs)(ie.ZP,{container:!0,spacing:1,children:[(0,p.jsxs)(ie.ZP,{item:!0,xs:6,children:[(0,p.jsx)(m.Z,{variant:"h4",component:"div",onClick:n.track_name?function(){return i({track_name:[n.track_name]})}:null,children:n.track_name}),n.year_released&&(0,p.jsxs)(m.Z,{color:"text.secondary",gutterBottom:!0,children:[" ",n.year_released]}),n.track_name_genre&&(0,p.jsx)(te.Z,{label:n.track_name_genre,size:"small"})]}),n.artist_info&&(0,p.jsxs)(ie.ZP,{item:!0,children:[(0,p.jsxs)(b.Z,{sx:{flex:"1 0 auto",display:"flex"},children:[(0,p.jsx)(re.Z,{"aria-label":"recipe",src:n.artist_info.artist_image_url,sx:{mr:1},children:n.artist_info.artist_name[0]}),(0,p.jsxs)("div",{children:[(0,p.jsx)(m.Z,{variant:"h5",color:"text.primary",children:n.artist_info.artist_name}),(0,p.jsxs)(m.Z,{variant:"subtitle2",children:["from ",null!==(t=n.artist_info.artist_country)&&void 0!==t?t:"N/A"]})]})]}),n.artist_info.artist_genres&&n.artist_info.artist_genres.map((function(e){return(0,p.jsx)(te.Z,{label:e,size:"small"},e)}))]})]})}),(0,p.jsx)(ge,{children:(0,p.jsxs)(ie.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(ie.ZP,{container:!0,children:[(0,p.jsx)(ae.Z,{sx:{mt:2,mb:2,flexGrow:1}}),(0,p.jsx)(m.Z,{variant:"h5",component:"div",sx:{margin:"auto"},children:"Music Platform"}),(0,p.jsx)(ae.Z,{sx:{mt:2,mb:2,flexGrow:1}})]}),(0,p.jsx)(ie.ZP,{item:!0,xs:12,children:(0,p.jsx)("iframe",{loading:"lazy",src:"https://open.spotify.com/embed/track/".concat(n.track_id),width:"100%",height:"80",frameBorder:"0","data-mce-fragment":"1"})}),(n.spotify_uri||n.track_YouTubeID)&&(0,p.jsxs)(p.Fragment,{children:[n.spotify_uri&&(0,p.jsx)(ie.ZP,{item:!0,xs:12,children:(0,p.jsx)("iframe",{loading:"lazy",src:n.spotify_uri.replace("com/track","com/embed/track"),width:"100%",height:"80",frameBorder:"0","data-mce-fragment":"1"})}),n.track_YouTubeID&&(0,p.jsx)(ie.ZP,{item:!0,xs:12,children:(0,p.jsx)("iframe",{width:"100%",height:"auto",loading:"lazy",src:"https://www.youtube-nocookie.com/embed/".concat(n.track_YouTubeID),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})]})})]})};function qe(e){var t=e.currentDetail,n=e.onSelect;e.sx;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)($.Z,{container:!0,style:{height:"100%",width:"100%",padding:10,overflow:"auto"},m:0,flexDirection:"column",flexWrap:"nowrap",sx:{bgcolor:function(e){return e.palette.background.paper},color:function(e){return e.palette.primary.contrastText}},children:t?(0,p.jsx)(Ue,{data:t,onSelect:n}):(0,p.jsx)(p.Fragment,{children:"Select from Event List"})})})}var Ge=n(62240),Ye=n(7607),He=n(86966),Ve=n(75600),Ne=n(76019),Je=n(56309),Ke=n(80349);function Xe(e){var t=e.intl,n=(0,a.useState)(null),i=(0,r.Z)(n,2),s=i[0],o=i[1],l=(0,Ke.useLocale)(),c=l.setLocale,d=l.locale,u=void 0===d?"en":d,h=Boolean(s);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(x.Z,{title:t.formatMessage({id:"language"}),onClick:function(e){o(e.currentTarget)},children:[(0,p.jsx)(Ne.Z,{})," ",(0,p.jsx)("span",{style:{fontSize:"small",paddingLeft:5,textTransform:"uppercase"},children:u})]}),(0,p.jsx)(T.Z,{id:"language-menu","aria-labelledby":"demo-positioned-button",anchorEl:s,open:h,onClose:function(){o(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Je.Z.map((function(e){return(0,p.jsxs)(F.Z,{selected:e.locale===u,onClick:function(){return c(e.locale)},children:[(0,p.jsx)(Ne.Z,{style:{paddingRight:5}})," ",t.formatMessage({id:e.locale})]},e.locale)}))})]})}var Qe=n(77111),$e=n(7655);function et(e){var t=e.intl,n=(0,a.useState)(null),i=(0,r.Z)(n,2),s=i[0],o=i[1],l=(0,Ke.useLocale)(),c=(l.setLocale,l.locale,Boolean(s)),d=(0,Y.I0)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{title:t.formatMessage({id:"Font size"}),onClick:function(e){o(e.currentTarget)},children:(0,p.jsx)(Qe.Z,{})}),(0,p.jsx)(T.Z,{id:"font-size-menu","aria-labelledby":"demo-positioned-button",anchorEl:s,open:c,onClose:function(){o(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,p.jsx)(b.Z,{sx:{paddingLeft:2,paddingRight:2},children:(0,p.jsx)($e.Z,{title:t.formatMessage({id:"Font size"}),onChange:function(e){d(e?{type:Q.eR}:{type:Q.zU})}})})})]})}var tt=n(57064),nt=n(13034),it=n(54214);function rt(e){var t=e.intl,n=e.layoutItems,i=e.onChange,s=(0,a.useState)(null),o=(0,r.Z)(s,2),l=o[0],c=o[1],d=Boolean(l);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{title:t.formatMessage({id:"Layout"}),onClick:function(e){c(e.currentTarget)},children:(0,p.jsx)(it.Z,{})}),(0,p.jsx)(T.Z,{id:"layout-menu",anchorEl:l,open:d,onClose:function(){c(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object.keys(n).map((function(e){return(0,p.jsxs)(F.Z,{onClick:function(){return i(e,n[e],!n[e].val)},children:[(0,p.jsx)(tt.Z,{children:(0,p.jsx)(nt.Z,{checked:n[e].val})}),t.formatMessage({id:n[e].key})]},e)}))})]})}function at(e){var t=e.layoutItems,i=e.layoutItemsOnChange,l=void 0===i?function(){}:i,c=(0,s.Z)(),d=(0,Y.I0)(),u=(0,o.useTheme)(),h=u.toggleThisTheme,f=u.isDarkMode,g=(0,a.useState)(null),j=(0,r.Z)(g,2),v=j[0],Z=j[1],y=(0,a.useState)(null),_=(0,r.Z)(y,2),k=(_[0],_[1],function(){Z(null)});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("img",{src:n(66949),loading:"lazy",style:{height:"auto",width:150}}),(0,p.jsxs)("span",{style:{marginRight:5},children:["v","0.1"]}),(0,p.jsx)(x.Z,{title:"About us",size:"small",sx:{transform:"translate(-10px,10px)"},onClick:function(){return d({type:Q.O5,opened:!0})},children:(0,p.jsx)(Ge.Z,{fontSize:"inherit"})}),(0,p.jsxs)(b.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,p.jsx)(x.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){Z(e.currentTarget)},color:"inherit",children:(0,p.jsx)(Ye.Z,{})}),(0,p.jsxs)(T.Z,{id:"menu-appbar",anchorEl:v,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(v),onClose:k,sx:{display:{xs:"block",md:"none"}},children:[(0,p.jsx)(F.Z,{onClick:k,children:(0,p.jsxs)(m.Z,{textAlign:"center",children:[(0,p.jsx)(x.Z,{title:"Toggle theme",onClick:function(){h("isDarkMode")},children:f?(0,p.jsx)(He.Z,{}):(0,p.jsx)(Ve.Z,{})}),f?(0,p.jsx)(p.Fragment,{children:"Light Mode"}):(0,p.jsx)(p.Fragment,{children:"Dark Mode"})]})}),(0,p.jsx)(F.Z,{onClick:k,children:(0,p.jsxs)(m.Z,{textAlign:"center",children:[(0,p.jsx)(rt,{intl:c,layoutItems:t,onChange:l}),"Layout"]})}),(0,p.jsx)(F.Z,{onClick:k,children:(0,p.jsxs)(m.Z,{textAlign:"center",children:[(0,p.jsx)(et,{intl:c}),"Font size"]})}),(0,p.jsx)(F.Z,{onClick:k,children:(0,p.jsx)(m.Z,{textAlign:"center",children:(0,p.jsx)(Xe,{intl:c})})})]})]}),(0,p.jsxs)(b.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:[(0,p.jsx)(x.Z,{title:"Toggle theme",onClick:function(){h("isDarkMode")},children:f?(0,p.jsx)(He.Z,{}):(0,p.jsx)(Ve.Z,{})}),(0,p.jsx)(rt,{intl:c,layoutItems:t,onChange:l}),(0,p.jsx)(et,{intl:c}),(0,p.jsx)(Xe,{intl:c})]})]})}var st=n(66950),ot=n(78305),lt=n(37041);function ct(e){var t=e.countries;return(0,p.jsx)(ie.ZP,{sx:{position:"relative",height:"100%"},children:(0,p.jsx)(lt.Z,{countries:t,fullHeight:!0})})}var dt=n(21809);var ut=function(){var e=(0,Y.I0)(),t=((0,s.Z)(),(0,Y.v9)(X.mj)),n=(0,v.Wz)(),o=n.getList,l=n.isLoading,c=n.getEvents,d=n.requestEvents,u=n.requestDetail,h=n.getDetail,x=n.setFuncCollection,m=(0,a.useState)(),g=(0,r.Z)(m,2),k=g[0],w=g[1],S=(0,a.useState)(!0),C=(0,r.Z)(S,2),z=C[0],L=C[1],D=(0,a.useState)(function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}()),R=(0,r.Z)(D,2),I=R[0],M=(R[1],(0,a.useState)({Earth:{key:"Earth View",val:!0,disable:!0},eventList:{key:"Song List",val:!0},eventDetail:{key:"Song Details",val:!0},eventMap:{key:"Song List Map",val:!0},mediaDetail:{key:"Listen",val:!0},eventSelectedList:{key:"Selected Songs",val:!0},eventListDetail:{key:"Song List Details",val:!0}})),T=(0,r.Z)(M,2),F=T[0],P=T[1],E=(0,a.useRef)(null),B=(0,a.useRef)(null),O=h(),W=(0,Y.v9)((function(e){return e.seletedList.currentList})),A=(0,Y.v9)((function(e){return Array.from(e.seletedList.items.values())})),U=(0,dt.Tx)(),G=U.setlocation,H=U.logEvents,V=(function(){var e=(0,Me.TH)().search,t=(0,v.Wz)().requestDetail;(0,a.useMemo)((function(){var n=new URLSearchParams(e);if(n.get("id"))return t({_id:n.get("id")}),n}),[e])}(),(0,Me.TH)());(0,a.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){G(e.coords),w({lng:e.coords.longitude,lat:e.coords.latitude})}),(function(){})),e({type:Q.O5,opened:!0})}),[]),(0,a.useEffect)((function(){O&&w({lng:O.long,lat:O.lat})}),[O]);var N=l("rawData"),J=l("events"),$=l("locs");(0,a.useEffect)((function(){N||d(t,1e3)}),[N,t]);var ee=(0,a.useCallback)((function(e){u(e)}),[c]),te=(0,a.useCallback)((function(t,n){n&&w({lng:n.long,lat:n.lat}),Object.keys(t)[0]&&H("click_earth",(0,i.Z)({},t)),e((0,X.rr)({value:t}))}),[]),ne=(0,a.useState)((function(){return Te.Model.fromJson({global:{tabEnableFloat:!0,tabSetMinWidth:100,tabSetMinHeight:100,borderMinSize:100},borders:[{type:"border",location:"top",size:400,active:!0,children:[]},{type:"border",location:"left",size:.4*I.width,children:[{type:"tab",name:"Earth View",enableClose:!1,component:"Earth"}],selected:0}],layout:{type:"row",weight:100,children:[{type:"row",children:[{type:"row",children:[{type:"tabset",weight:50,children:[{type:"tab",name:"Song List",component:"eventList"}]},{type:"tabset",weight:50,children:[{type:"tab",name:"Selected Songs",component:"eventSelectedList"}]}]},{type:"tabset",weight:50,children:[{type:"tab",name:"Song Detail",component:"eventDetail"},{type:"tab",name:"Listen",component:"mediaDetail"},{type:"tab",name:"Song List Map",component:"eventMap"},{type:"tab",name:"Song List Detail",component:"eventListDetail"}]}]}]}})})),ie=(0,r.Z)(ne,2),re=ie[0],ae=ie[1];(0,a.useEffect)((function(){e(st.cq.newList(c()))}),[c()]);var se=(0,a.useCallback)((function(e){return void 0!==e&&L(e),z}),[z]),oe=(0,a.useCallback)((function(e,t,n){if(B.current){if(n)B.current.addTabToActiveTabSet({name:t.key,component:e});else{var r=Object.keys(re._idMap).find((function(t){return re._idMap[t]._attributes.component===e}));r&&re.doAction(Te.Actions.deleteTab(r))}F[e].val=n,P((0,i.Z)({},F))}}),[B,re]);return(0,p.jsxs)(j,{appBarLeftContent:(0,p.jsx)(at,{layoutItems:F,layoutItemsOnChange:oe}),appBarContent:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(We,{}),(0,p.jsx)("div",{ref:E}),(0,p.jsx)(K,{})]}),children:[(0,p.jsx)("div",{style:{height:"100%",position:"relative",pointerEvents:"all",overflow:"hidden"},children:(0,p.jsx)(Te.Layout,{model:re,ref:B,factory:function(t){switch(t.getComponent()){case"eventList":return(0,p.jsx)(q,{id:"eventListTable",data:null!==W&&void 0!==W?W:[],columns:ot.XU,isLoadingData:J,onSelectRow:ee,highlightId:O,totalData:W,selectedData:A,onSendToList:function(t){return e(st.cq.addsToBasket(t))},onRemoveFromList:function(t){return e(st.cq.removeItems(t))},mainurl:V});case"eventListDetail":return(0,p.jsx)(ct,{countries:o(z?"countries_full":"countries")});case"eventSelectedList":return(0,p.jsx)(q,{id:"eventSelectedListTable",data:A,columns:ot.dS,isLoadingData:J,onSelectRow:ee,highlightId:O,totalData:W,selectedData:A,disableAdding:!0,onSendToList:function(t){return e(st.cq.addsToBasket(t))},onRemoveFromList:function(t){return e(st.cq.removeItems(t))},mainurl:V});case"eventMap":return(0,p.jsx)(Fe,{currentDetail:O,events:c(),locs:o("locs")});case"eventDetail":return(0,p.jsx)(Ie,{currentDetail:O,onSelect:te,events:c(),locs:o("locs"),sx:{height:"100%",position:"relative"}});case"mediaDetail":return(0,p.jsx)(qe,{currentDetail:O,onSelect:te,events:c(),locs:o("locs"),sx:{height:"100%",position:"relative"}});case"Earth":return(0,p.jsx)(_.Z,{style:{height:"100%",width:"100%"},children:function(e){var t=e.height,n=e.width;return(0,p.jsx)(y.ZP,{locs:o(z?"locs_full":"locs"),countries:o(z?"countries_full":"countries"),onSelect:te,onSelectLegend:x,width:n,height:t,toolbarRef:E,zoomLoc:k,getSwitchView:se})}});default:return""}},tabEnableRenderOnDemand:!1,popoutURL:"#/popout",realtimeResize:!1,onModelChange:function(e){Object.keys(F).forEach((function(e){return F[e].val=!1})),Object.values(e._idMap).forEach((function(e){e._attributes.component&&F[e._attributes.component]&&(F[e._attributes.component].val=!0)})),P(F),ae(e)}})}),(0,p.jsx)(Z.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:N||$,children:(0,p.jsxs)(b.Z,{sx:{display:"flex",alignItems:"center",width:"50%",flexDirection:"column",textAlign:"center"},children:[(0,p.jsx)(b.Z,{sx:{width:"100%"},children:(0,p.jsx)(f.Z,{variant:"determinate",value:N?40:$?90:100})}),(0,p.jsx)(b.Z,{sx:{width:"100%"},children:(0,p.jsx)("h2",{children:N?"Read data....":$?"Process data...":"Done!"})})]})})]})}},66949:function(e,t,n){e.exports=n.p+"static/media/logo.8844d7af9165cc9b4459.png"}}]);
//# sourceMappingURL=45.2bc34073.chunk.js.map